<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 4</title>
    <style>
        .queue-list{
            list-style: none;
            padding: 0;
        }
        li{
            padding: 10px 6px;;
            color: white;
            background-color: red;
            text-align: center;  
            display: inline-block;
            margin: 3px;
        }
    </style>
</head>
<body>
    <div>
        <input id="number-input" type="text" /> 
        <button id="left-in">左侧入</button><button id="right-in">右侧入</button>
        <button id="left-out">左侧出</button><button id="right-out">右侧出</button>
    </div>
    <ul class="queue-list" id="queue">
        <li>1</li>
        <li>23</li>
        <li>48</li>
        <li>799</li>
        <li>760</li>
    </ul>
    <script type="text/javascript">
    function validateIsNum(number){
        if(number.trim() == ""){
            alert("请输入添加的内容");
            return false;
        }
        if (isNaN(number)){
            alert("请输入数字");
            return false; 
        }
        return true;
    }
    function leftIn(){
        var list = document.getElementById("queue");
        var number = document.getElementById("number-input").value;
        if (!validateIsNum(number)) {
            return;
        }
        var li= document.createElement("li");
        li.innerHTML = number;
        list.insertBefore(li,list.childNodes[0]);
    }
    function leftOut(){
        var list = document.getElementById("queue");
        var iList = list.getElementsByTagName("li");
        if(iList.length == 0){
            alert("没有可删除的数字了！");
            return;
        }
        var nodeVal = iList[0].innerHTML;
        list.removeChild(iList[0]);
        alert(nodeVal);
    }
    function rightIn(){
        var list = document.getElementById("queue");
        var number = document.getElementById("number-input").value;
        if (!validateIsNum(number)) {
            return;
        }  
        var li= document.createElement("li");
        list.appendChild(li).append(number);
    }
    function rightOut(){
        var list = document.getElementById("queue");
        var iList = list.getElementsByTagName("li");
        if(iList.length == 0){
            alert("没有可删除的数字了！");
            return;
        }
        var nodeVal = iList[iList.length-1].innerHTML;
        list.removeChild(iList[iList.length-1]);
        alert(nodeVal);
    }
    
    document.getElementById("left-in").onclick = leftIn;
    document.getElementById("left-out").onclick = leftOut;
    document.getElementById("right-in").onclick = rightIn;
    document.getElementById("right-out").onclick = rightOut;
    var list = document.getElementById("queue");
    list.onclick = function(e){
    	console.log(e)
        list.removeChild(e.target);
    }
    </script>
</body>
</html>